<div class="container" *ngIf="user">
    <div class="background-header">
        <div class="fondo">
            <img src="http://localhost:3000/images/uploads/{{ user.front }}" alt="" />
        </div>
        <div class="container-artista">
            <div class="avatar-name">
                <div class="caja_img">
                    <img src="http://localhost:3000/images/uploads/{{ user.avatar }}" alt="" />
                </div>
                <div class="datos-single">

                    <!-- Nombre usuario para artistas -->
                    <h1 *ngIf="user.type == '1'">
                        {{ user.artistic_name }} <i class="fab fa-linkedin-in"></i
            ><i class="fab fa-facebook"></i>
                    </h1>
                    <!-- Nombre usuario para compradores -->
                    <h1 *ngIf="user.type == '2'">{{ user.user_name }}</h1>
                    <p>{{ user.mail }}</p>
                    <div *ngIf="currentUser.user_id === userId || isAdmin">
                        <mat-icon *ngIf="isLoggedIn" (click)="seeEditProfile()">edit</mat-icon>
                        <mat-icon *ngIf="isLoggedIn" (click)="deleteUser()">person_remove</mat-icon>
                    </div>
                    <p *ngFor="let discipline of disciplines">
                        {{ discipline.discipline_name }}
                    </p>
                </div>
            </div>
            <div class="description-single">
                <p>{{ user.biography }}</p>
                <!-- Editar perfil completo -->
                <div *ngIf="currentUser.user_id === userId || isAdmin" class="modificar-icons">
                    <button class="button-single" *ngIf="isLoggedIn" [routerLink]="['/artists-form', user.user_id]">
                        EDITAR DATOS DE REGISTRO
                    </button>
                    <mat-icon *ngIf="user.type == '1' || isAdmin" class="material-icons-outlined" (click)="seeEditProfile(user.user_id, 'img')">
                        add_a_photo
                    </mat-icon>
                    <mat-icon *ngIf="user.type == '1' || isAdmin" class="material-icons-outlined" (click)="seeEditProfile(user.user_id, 'video')">
                        ondemand_video
                    </mat-icon>
                    <mat-icon *ngIf="user.type == '1' || isAdmin" class="material-icons-outlined" (click)="seeEditProfile(user.user_id, 'pdf')">
                        picture_as_pdf
                    </mat-icon>
                </div>
                <!-- <button class="button-single" *ngIf="isLoggedIn" (click)="editCredentials()">
            EDITAR MAIL AND PASSWORD
          </button> -->
            </div>
        </div>
        <div class="proyectos-edit">
            <div class="proyectos">

                <div class="product-single" *ngFor="
            let product of productsImg
              | paginate: { id:'paginationImage', itemsPerPage: 4, currentPage: pageImg }
          ">
                    <img (click)="seeEditProduct()" src="http://localhost:3000/images/uploads/{{
              product.product_photo
            }}">
                    <div class="container-icons">
                        <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="seeEditProfile(product, 'img')">
                            edit</mat-icon>
                        <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="deleteProduct(product.product_id)">delete</mat-icon>

                        <mat-icon *ngIf="currentUser.user_id != userId" class="icon-edit" (click)="addProduct(product)">shopping_cart</mat-icon>
                    </div>
                </div>

            </div>
            <pagination-controls id="paginationImage" *ngIf="productsImg.length" class="my-pagination" (pageChange)="pageImg = $event" previousLabel="Anterior" nextLabel="Siguiente" autoHide="true"></pagination-controls>
        </div>

        <!-- VIDEO -->
        <div class="proyectos-edit">
            <div class="proyectos">
                <div class="product-single" *ngFor="
            let product of productsVideo
              | paginate: {id:'paginationVideo', itemsPerPage: 4, currentPage: pageVideo }
          ">
                    <video width="250px" height="250px" controls onplay="true" src="http://localhost:3000/video/uploads/{{
              product.product_photo
            }}" loop></video>
                    <div class="container-icons">
                        <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="seeEditProfile(product,'video')">
                            edit</mat-icon>
                        <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="deleteProduct(product.product_id)">delete</mat-icon>

                        <mat-icon *ngIf="currentUser.user_id != userId" class="icon-edit" (click)="addProduct(product)">shopping_cart</mat-icon>
                    </div>
                </div>

            </div>
            <pagination-controls id="paginationVideo" *ngIf="productsVideo.length" class="my-pagination" (pageChange)="pageVideo = $event" previousLabel="Anterior" nextLabel="Siguiente" autoHide="true"></pagination-controls>

        </div>


        <!-- PDF -->

        <div class="proyectos">
            <div class="product-single" *ngFor="
          let product of productsPdf
            | paginate: {id:'paginationPdf', itemsPerPage: 4, currentPage: page }
        ">

                <embed type="application/pdf" [src]="'http://localhost:3000/pdf/uploads/' + product.product_photo | safeurl" width="250px" height="250px" />
                <div class="container-icons">

                    <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="deleteProduct(product.product_id)">delete</mat-icon>

                    <!-- <embed type="file" frameborder="0" height="250px" width="250px" src="http://localhost:3000/pdf/uploads/{{
                  product.product_photo
                }}"> -->
                    <!-- <object type="application/pdf" page=1 frameborder="0" height="250px" width="250px" data="http://localhost:3000/pdf/uploads/{{ product.product_photo }}"></object> -->
                    <!-- <iframe src="http://localhost:3000/pdf/uploads/{{ product.product_photo }} ? file=http://localhost:3000/pdf/uploads/{{ product.product_photo }} " style="width:250px; height:250px;" frameborder="0"></iframe> -->
                    <mat-icon *ngIf="isLoggedIn && currentUser.user_id === userId || isAdmin" class="icon-edit" (click)="seeEditProfile(product, 'pdf')">
                        edit</mat-icon>

                    <mat-icon *ngIf="currentUser.user_id != userId" class="icon-edit" (click)="addProduct(product)">shopping_cart</mat-icon>
                </div>

            </div>
            <pagination-controls id="paginationPdf" *ngIf="productsPdf.length" class="my-pagination" (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente" autoHide="true"></pagination-controls>
        </div>

        <!-- SOUND -->

        <div *ngFor="let product of products  | paginate: { itemsPerPage: 4, currentPage: page }"></div>


    </div>
    <div class="container-publish">
        <app-advertisement></app-advertisement>
    </div>
</div>

<div class="alert" [class.visible]="isVisible"> 
    Has a√±adido un producto al carrito
  </div>
<!--
    <app-products-form-update (formSubmitted)="saveProduct($event)"></app-products-form-update> -->

<!-- <app-artists-form-update *ngIf="editProfile"></app-artists-form-update> -->

<!-- </div> -->
